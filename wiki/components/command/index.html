<!DOCTYPE HTML>
<!--
    Editorial by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>




<meta charset="utf-8"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<meta name="generator" content="Orchid 0.20.0-SNAPSHOT"/>
<link rel="icon" href="https://kord-extensions.docs.kotlindiscord.com/favicon.ico">


<meta name="robots" content="index, follow">



<title>Commands</title>


<meta name="description" content="Extensions and commands for Kord">



<link rel="prev" href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/extension">


<link rel="next" href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/event-handler">


<script>
    window.site = {"orchidVersion":"0.20.0-SNAPSHOT","baseUrl":"https://kord-extensions.docs.kotlindiscord.com","environment":"debug","version":"1.1-SNAPSHOT"};
</script>





<!-- start:debug info -->

<!-- THEME -->
<!-- Type: Editorial -->
<!-- Class: com.eden.orchid.editorial.EditorialTheme -->

<!-- PAGE -->
<!-- Type: wiki -->
<!-- Class: com.eden.orchid.wiki.pages.WikiPage -->
<!-- Layout: index -->
<!-- Resolved Layout: templates/layouts/index.peb -->
<!-- Page Template: wiki, page -->
<!-- Resolved Page Template: templates/pages/page.peb -->

<!-- RESOURCE -->
<!-- Class: com.eden.orchid.api.resources.resource.FileResource -->
<!-- Source Filename: wiki/components/command.md -->

<!-- COMPLETE PAGE CONFIGURATION -->
<script>
    window.allData = {"reference":{"path":"wiki/components","baseUrl":"https://kord-extensions.docs.kotlindiscord.com","fileName":"command","extension":"html","usePrettyUrl":true,"link":"https://kord-extensions.docs.kotlindiscord.com/wiki/components/command"},"next":{"path":"wiki/components","baseUrl":"https://kord-extensions.docs.kotlindiscord.com","fileName":"event-handler","extension":"html","usePrettyUrl":true,"link":"https://kord-extensions.docs.kotlindiscord.com/wiki/components/event-handler"},"previous":{"path":"wiki/components","baseUrl":"https://kord-extensions.docs.kotlindiscord.com","fileName":"extension","extension":"html","usePrettyUrl":true,"link":"https://kord-extensions.docs.kotlindiscord.com/wiki/components/extension"},"description":"","title":"Commands"};
</script>

<!-- end:debug info -->




    <!-- start:inject meta-components -->
    
        
            
        
    
    <!-- end:inject meta-components -->



    <!-- start:inject meta-components -->
    
        
            
        
    
    <!-- end:inject meta-components -->





<!-- start:inject styles -->
<link rel="stylesheet" type="text/css" href="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/css/editorial_main.css"  />
<link rel="stylesheet" type="text/css" href="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/css/editorial_orchidCustomizations.css"  />
<link rel="stylesheet" type="text/css" href="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/css/orchidSearch.css"  />
<link rel="stylesheet" type="text/css" href="https://kord-extensions.docs.kotlindiscord.com/assets/css/orchidSearch.css"  />
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css"  />
<!-- end:inject styles -->

</head>
<body class="is-loading">


<!-- Wrapper -->
<div id="wrapper">

    <!-- Main -->
    <div id="main">
        <div class="inner">

            <!-- Header -->
            
                <header id="header">
    <a href="https://kord-extensions.docs.kotlindiscord.com" class="logo">Kord Extensions</a>
    <ul class="icons">
    
    
        <li>
            <a href="https://github.com/Kotlin-Discord/kord-extensions" class="icon fa-github">
                <span class="label">github</span>
            </a>
        </li>
    
    
    </ul>
</header>
            
            
            
            
                <section id="pageContent">
                    <header class="major"><h2>Commands</h2></header>
                    <article>
                        
    <!-- start:inject components -->
    
        
            
                
                    
                        <h3 id="commands"><a href="#commands" id="commands" class="anchor"></a>Commands</h3>
<p>A command is an action invoked by a user on Discord. They're the primary method of interacting
with most bots, and require a lot of consideration. We've attempted to make things as easy
and friendly to work with as possible.</p>
<p>You can define commands using the DSL functions available in <a href="./extension">extensions</a>.</p>
<h4 id="defining-commands"><a href="#defining-commands" id="defining-commands" class="anchor"></a>Defining Commands</h4>
<p>Define your commands in your extension's <code>setup</code> function. Here's a basic example:</p>
<pre><code class="language-kotlin">override suspend fun setup() {
    command { // this: Command
        name = &quot;ping&quot;

        action { // this: CommandContext
            message.channel.createMessage(&quot;Pong!&quot;)
        }
    }
}
</code></pre>
<h4 id="basic-options"><a href="#basic-options" id="basic-options" class="anchor"></a>Basic Options</h4>
<p>All commands require a <code>name</code> and an <code>action</code>, defined similarly to the above example.</p>
<ul>
<li>The <code>name</code> of your command should be unique across all installed extensions, and is
the name that is used to invoke the command on Discord.</li>
<li>The <code>action</code> is the body of the command, which will be executed when a user invokes
the command.</li>
</ul>
<p>In addition to these required options, command support a further set of optional
options:</p>
<ul>
<li>
<p><code>aliases: Array&lt;String&gt;</code> - This is a list of alternative names that can be used to
invoke the command. Note that if a command exists with a <code>name</code> that exists as an
alias in another command, the command with the matching <code>name</code> takes priority.</p>
<p>You can have as many aliases as you like.</p>
</li>
<li>
<p><code>description: String = &quot;&quot;&quot;</code> - This is a description for your command, which will
be displayed by the <code>help</code> command. Try to make it descriptive, while also keeping
it short!</p>
</li>
<li>
<p><code>enabled: Boolean = true</code> - If you disable a command by setting this to <code>false</code>, it
cannot be invoked and will not be shown in the <code>help</code> command. This can be modified
at runtime, if required.</p>
</li>
<li>
<p><code>hidden: Boolean = false</code> - If you want it to be possible to invoke your command,
but would still prefer it to be hidden from the <code>help</code> command, then you can set this
to <code>true</code>.</p>
</li>
<li>
<p><code>signature: String = &quot;&quot;</code> - The command's signature represents how the arguments to the
command should be formatted. For the sake of consistency, all optional arguments should
be specified like this: <code>[name]</code>. Required arguments should use <code>&lt;name&gt;</code>. Lists can
be either required or optional, but should contain an ellipsis - <code>&lt;name ...&gt;</code>.</p>
<p>The signature will be shown in help commands, and may also be automatically generated from a
data class. See the below section on command arguments for more information on signature
generation.</p>
</li>
</ul>
<h4 id="checks"><a href="#checks" id="checks" class="anchor"></a>Checks</h4>
<p>You will likely want to write commands that are only invoked based on a set of conditions.
In order to facilitate this in a manner that allows you to easily reuse these conditions,
commands support a <a href="check">checks system</a>.</p>
<pre><code class="language-kotlin">suspend fun defaultCheck(event: MessageCreateEvent): Boolean {
    with(event) {
        return when {
            message.author?.id == bot.kord.getSelf().id -&gt; false  // Check that we didn't send this message.
            message.author?.isBot == true               -&gt; false  // Check that another bot didn't send this message.
            else                                        -&gt; true
        }
    }
}

// ...

command {
    name = &quot;ping&quot;

    check(::defaultCheck)

    action {
        message.channel.createMessage(&quot;Pong!&quot;)
    }
}
</code></pre>
<p>If you don't need to make use of the check elsewhere, you can also specify them using a DSL syntax.</p>
<pre><code class="language-kotlin">command {
    name = &quot;ping&quot;

    check {
        it.message.author?.id != bot.kord.getSelf().id &amp;&amp;  // Check that we didn't send this message.
        it.message.author?.isBot == false  // Check that another bot didn't send this message.
    }

    action {
        message.channel.createMessage(&quot;Pong!&quot;)
    }
}
</code></pre>
<p>You can have as many checks as you need - simply call <code>check</code> again for every check you wish to add. If
you have multiple check functions to add, you may also specify them all as arguments for a single <code>check</code> call.</p>
<pre><code class="language-kotlin">check(
    ::defaultCheck,  // Default checks we do for every command
    notChannelType(ChannelType.DM)  // Ensure the command isn't being invoked in a DM
)
</code></pre>
<h4 id="command-arguments"><a href="#command-arguments" id="command-arguments" class="anchor"></a>Command Arguments</h4>
<p>In order to make life as easy as possible, you have the option of creating a data class that represents the
arguments for your command, allowing for automatic generation of the command signature and parsing of command
arguments. For example:</p>
<pre><code class="language-kotlin">data class SampleArgs(
    val optionalInt: Int = 1,  // An optional integer.
    val requiredUsers: List&lt;User&gt;  // A list of User objects.
)

command {
    name = &quot;sample&quot;

    signature&lt;SampleArgs&gt;()  // Automatically generate the command signature.

    action {
        val parsed = parse&lt;SampleArgs&gt;()  // Automatically parse the command arguments into the data class

        with(parsed) {  // this: SampleArgs
            message.channel.createMessage(
                &quot;Arguments: optionalInt = $optionalInt | &quot; +
                    &quot;requiredUsers = ${requiredUsers.joinToString(&quot;, &quot;) { it.username }}&quot;
            )
        }
    }
}
</code></pre>
<p>In order to facilitate this manner of parsing, the parser follows these rules:</p>
<ul>
<li>First, split the message into arguments. Spaces separate arguments from each other, but users may surround
a set of arguments with double quotes in order to have them treated as a single argument, preserving the spaces.</li>
<li>For each parameter in the data class' primary constructor (not the properties defined in the body, if any):
Take an argument and try to convert it to the correct type.
<ul>
<li>If the parameter is a List, attempt to convert all remaining arguments for the command.</li>
<li>If the argument could not be converted, but you gave the parameter a default value, skip it and try the next
parameter with the same argument.</li>
<li>If the argument could not be converted and does not have a default value, the user will be presented with an
error message.</li>
</ul>
</li>
<li>Once all the parameters have been converted, the data class is constructed using them. This is then returned
from the <code>parse</code> function.</li>
</ul>
<p>We also support an alternative syntax for specifying command parameters. If a parameter contains a colon,
it's split into a key-value pair:</p>
<ul>
<li>The dataclass is searched for a parameter matching the key on the left side of the colon.</li>
<li>If the dataclass contains a matching parameter, we convert the value on the right as normal and store it.
<ul>
<li>If the parameter is a list type, the value will be stored within the list. This means that multiple
arguments can be specified this way, and they'll all be inserted into the same list.</li>
<li>If not, it'll be stored directly within the parameter.</li>
</ul>
</li>
</ul>
<p>The parser supports the following types:</p>
<ul>
<li>Basic types: <code>String</code>, <code>Regex</code>, <code>Boolean</code>, <code>Int</code>, <code>Short</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>, <code>BigDecimal</code>, <code>BigInteger</code>.</li>
<li>Kord types: <code>Channel</code>, <code>Guild</code>, <code>GuildEmoji</code>, <code>Role</code>, <code>User</code>.</li>
</ul>
<p><strong>Note:</strong> <code>GuildEmoji</code> and <code>Role</code> objects will be retrieved from the within the current guild. It is not possible
to specify which guild to use at this time, but we may add support for that later.</p>

                    
                
            
        
    
    <!-- end:inject components -->


                    </article>
                </section>
            
        </div>
        <hr>

        <!-- Page Footer -->
        <div class="inner">
    <footer id="footer">
        <div class="clearfix">
            
                <div class="float-left">
                    <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/extension" class="button special small pill">
                        <span>&larr;</span> Extensions
                    </a>
                </div>
            
            
                <div class="float-right">
                    <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/event-handler" class="button special small pill">
                        Event Handlers<span>&rarr;</span>
                    </a>
                </div>
            
        </div>
    </footer>
</div>

    </div>

    <!-- Sidebar -->
    <div id="sidebar">
    <div class="inner">

        <!-- Search -->
        <section id="search" class="alt">
            <form data-orchid-search="">
                <input type="text" name="query" id="query" placeholder="Search"/>
            </form>
            <div class="box" id="search-results" data-orchid-search-results style="display: none;">
                <b>Search Results</b>
                <ul></ul>
            </div>
            <div class="box" id="search-progress" data-orchid-search-progress style="display: none;">
                <div class="loader">Loading...</div>
            </div>
        </section>

        <!-- Menu -->
        <nav id="siteNav" class="menu">
            <header class="major">
                <h2>Kord Extensions</h2>
            </header>
            <ul class="top-level">
                
                    
    
    <li>
        <a class="subheader">Wiki</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Components</span>
        <ul>
        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/extensible-bot">Extensible Bot</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/extension">Extensions</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/command">Commands</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/event-handler">Event Handlers</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/components/check">Checks</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Examples</span>
        <ul>
        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/examples/full-command">Full Command Example</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/wiki/examples/full-event-handler">Full Event Handler Example</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    
    <li>
        <a class="subheader">API Docs</a>
    </li>
    

                
                    
    <li>
        <span class="opener">Classes</span>
        <ul>
        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/commands/argumentparser">ArgumentParser</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/commands/command">Command</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/commands/commandcontext">CommandContext</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/commandregistrationexception">CommandRegistrationException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/events/eventhandler">EventHandler</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/eventhandlerregistrationexception">EventHandlerRegistrationException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/extensiblebot">ExtensibleBot</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/extensions/extension">Extension</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/extensionsexception">ExtensionsException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/extensions/helpextension">HelpExtension</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/invalidcommandexception">InvalidCommandException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/invalideventhandlerexception">InvalidEventHandlerException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/invalidextensionexception">InvalidExtensionException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/paginator">Paginator</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/parseexception">ParseException</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/checks/utils/scheduler">Scheduler</a>
    </li>
    

        
        </ul>
    </li>

                
                    
    <li>
        <span class="opener">Packages</span>
        <ul>
        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions">com.kotlindiscord.kord.extensions</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/checks">com.kotlindiscord.kord.extensions.checks</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/checks/utils">com.kotlindiscord.kord.extensions.checks.utils</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/commands">com.kotlindiscord.kord.extensions.commands</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/events">com.kotlindiscord.kord.extensions.events</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/extensions">com.kotlindiscord.kord.extensions.extensions</a>
    </li>
    

        
            
    
    <li>
        <a href="https://kord-extensions.docs.kotlindiscord.com/kotlindoc/kord-extensions/kord-extensions/com/kotlindiscord/kord/extensions/parsers">com.kotlindiscord.kord.extensions.parsers</a>
    </li>
    

        
        </ul>
    </li>

                
            </ul>
        </nav>
        

        <!-- Section -->
        <section>
            <p class="text-center">
                Currently 1.1-SNAPSHOT. Created with <a href="https://orchid.run">Orchid </a> and <b>Orchid Editorial Theme</b>.
            </p>
        </section>

        <!-- Footer -->
        <footer id="footer">
            <p class="copyright text-center">&copy; Kotlin Discord. All rights reserved.<br>Design by <a href="https://html5up.net">HTML5 UP</a></p>
        </footer>

    </div>
</div>

</div>

<!-- start:inject scripts -->
<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/skel/3.0.1/skel.min.js"></script>
<script  src="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/js/editorial_util.js"></script>
<script  src="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/js/editorial_main.js"></script>
<script  src="https://kord-extensions.docs.kotlindiscord.com/Editorial/5e5b942e/assets/js/editorial_orchidCustomizations.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script  src="https://unpkg.com/lunr/lunr.js"></script>
<script  src="https://kord-extensions.docs.kotlindiscord.com/assets/js/orchidSearch.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/prism.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-kotlin.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-toml.min.js"></script>
<script  src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-yaml.min.js"></script>
<!-- end:inject scripts -->

</body>
</html>